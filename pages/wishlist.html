<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="/scripts/navStyle.js"></script>
    <link rel="stylesheet" href="/styles/Browse.css">
    <script src="/scripts/Browse.js"></script>
<script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>
    <link rel="stylesheet" href="/styles/Wishlist.css">
    
  <link rel="shortcut icon" href="https://static-assets-prod.epicgames.com/epic-store/static/webpack/../favicon.ico"
  type="image/x-icon">
    <title>Wishlist</title>
  </head>
  
  <body class="bg-[#121212] text-white">
    <div id="navbar">
      <nav class="w-[100%]">
        <div
          id="firstNav"
          class="flex bg-[#2A2A2A] justify-between md:justify-start"
        >
          <img
            class="h-[2em] w-[1.7em] m-2 ml-5 lg:ml-4"
            src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAB0CAMAAABE6mf9AAAB7FBMVEVMaXH////////n5+dwcHD///////////97e3v////////////////8/Pz+/v7///////+xsbH////////+/v7+/v7+/v729vbS0tLOzs7e3t6wsLD///8YGBjPz8/9/f3////7+/v////////8/Pzf39/4+Phubm7+/v7///85OTmSkpLLy8v////+/v7////Z2dn////6+vr39/fU1NT+/v6enp6lpaX9/f3////+/v719fX39/f8/Pz////////AwMD9/f3////9/f38/Pzb29v4+Pj39/f///////+3t7f8/Pze3t77+/uTk5P8/Pz4+Pjx8fH+/v7c3Nz5+fni4uL6+vr////5+fn///+qqqr09PT9/f3+/v7e3t7////8/Pz6+vr9/f3////7+/vn5+f6+vr+/v65ubn29vbMzMyhoaHb29vr6+vExMS2trb8/Pz7+/v7+/u2tra7u7vm5ub+/v6enp77+/v////////5+fn7+/v5+fmpqana2trZ2dnOzs76+vrLy8vl5eXW1tbJycnS0tL5+fn7+/vn5+f19fW9vb3Hx8f5+fn4+PjNzc3+/v7AwMDZ2dm1tbX5+fm2trb29vbe3t7p6em9vb3y8vLKysrT09Pc3Nz09PTh4eHIyMjm5ub///+stlOlAAAAo3RSTlMA9vsEAf3l/gL5UvDtEgnz7wP0wqWEijAcGiUJgAQUJNzOq+jrKOQIG64JUlTsmuKN3+AZDdkGFpbV4ToQIVC7Cg3SY3AgHgfEsh4VZcgOlAondSO7LCqo17YwNY6gj2hLRX/N0i/mWpnvElQ6Qj4+VnzpaBJP5UTCgcqqvIs6Fh5krSyESEZZ3dp3tzR68qOAh1CHS4VBS0pacG8hhHZdoqdl1QdEjAAACP1JREFUeF7tmvtf08gaxpNJ0iEkJb0BKEhDs0B7zmlrLRQoLZS0tmAFaFlABeQu53CABQQFkEXA+3W97eqq657tP3pmUjSUSitCPZ+zy/NTMszkyzvvO88kAwRBRUfqZTKRG5Gyo8lNEZT/lawjYY4gkNQ1FJoJd6ETJHIp4HQQIzJI5FYMRzh0iZyLaGC/AYSF3wCSSPyJIMeQYwjg+N0SALY49Z4jmR3jY5WOH50VsrxmRzwJs0CA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"
            alt=""
          />
          <div class="md:hidden object-right-top bg-blue-700 w-[50px]">
            <!-- <span class=" block w-[50px]" ></span> -->
          </div>
          <div
            class="hidden md:flex lg:flex justify-between items-center uppercase text-gray-300 text-xs"
          >
            <div class="flex items-center justify-between">
              <div class="px-2"><a class="hover:text-white hover:no-underline"  href="/">Store</a></div>
              <a class="hover:text-white hover:no-underline" href="faq.html">
                <div class="px-2">faq</div>
              </a>
              <div class="px-2"><a class="hover:text-white hover:no-underline" href="help.html">help</a></div>
              <div class="px-2">unreal engine</div>
            </div>
            <!-- <div class="mx-[50%]" ></div> -->
            <div
              class="flex justify-between items-center absolute top-0 right-0"
            >
              <div class="px-2">
                <button>
                  <i class="bg-black fa fa-globe" aria-hidden="true"></i>
                </button>
              </div>
              <div class="px-2 flex justify-between items-center">
                <button>
                  <i class="bg-black fa fa-user" aria-hidden="true"></i>
                </button>
                <a class="hover:text-white hover:no-underline" href="signin.html">
                  <p class="mx-2 text-[10px]" id="signin">sign in</p>
                </a>
              </div>
              <div class="px-2">
                <button
                  class="bg-blue-600 text-[10px] p-4 px-6 h-full uppercase"
                >
                  download
                </button>
              </div>
            </div>
          </div>
        </div>

        <div
          id="secondNav"
          class="md:px-[20.5%] lg:px-[10.5%] flex bg-[#121212] justify-between md:justify-start items-center md:items-center h-[80px] p-3"
        >
          <div class="ml-4 hidden md:inline md:flex items-center">
            <div
              class="h-8 bg-[#202020] text-white text-xs pl-2 flex items-center focus:outline-none focus:bg-[#2A2A2A] rounded-l-full"
            >
              <i class="fa fa-search"></i>
            </div>
            <div>
              <input
                class="rounded-r-full h-8 bg-[#202020] text-white text-xs pl-2 focus:outline-none focus:bg-[#2A2A2A]"
                type="text"
                name=""
                placeholder="Search"
                id="navSearch"
              />
            </div>
          </div>

          <div class="px-6 pt-4 pb-2 hidden md:inline">
            <a  href="/">
              <button
                class="inline-block hover:text-white rounded-full px-3 py-1 text-sm font-semibold text-gray-500 mr-2 mb-2"
              >
                Discover
              </button>
            </a>

            <a href="Browse.html">
              <button
                class="inline-block hover:text-white rounded-full px-3 py-1 text-sm font-semibold text-gray-500 mr-2 mb-2"
              >
                Browser
              </button>
            </a>
            <a href="news.html">
              <button
                class="inline-block hover:text-white rounded-full px-3 py-1 text-sm font-semibold text-gray-500 mr-2 mb-2"
              >
                News
              </button>
            </a>
          </div>

          <div class="pl-[30%] px-6 pt-4 pb-2 hidden md:inline">
            <a class="hover:text-white hover:no-underline" href="wishlist.html">
              <button
                class="inline-block hover:text-white rounded-full px-3 py-1 text-sm font-semibold text-gray-500 mr-2 mb-2"
              >
                Wishlist
              </button>
            </a>
            <a class="hover:text-white hover:no-underline"  href="cart.html">
              <button
                class="inline-block hover:text-white rounded-full px-3 py-1 text-sm font-semibold text-gray-500 mr-2 mb-2"
              >
                Cart
              </button>
            </a>

            <span
              class="rounded-full px-3 ml-[-18px] text-sm hover:text-gray-500 bg-transperent"style="border: 1px solid white"
              id="cartTotal"
              >0</span
            >
          </div>

          <div class="ml-4 flex justify-between items-center md:hidden">
            <i class="text-gray-300 fa fa-search" aria-hidden="true"></i>
          </div>
        </div>
      </nav>
    </div>

    <!-- <a href="epic-cart.html">back</a> -->
    <!--     
    <h1 class="cart"></h1>
    <h1 class="wishlist"></h1> -->
    <h1 class="wishHead">Wishlist</h1>

    <div id="topFilter">
      <select name="Sort By" id="sortBtn">
        <option value="">Sort By: New Release</option>
        <option value="Alphabetical">Alphabetical</option>
        <option value="Low to High">Price:Low to High</option>
        <option value="High to Low">Price:High to Low</option>
      </select>
      <br>
      <!-- <h4 id="clear">Clear</h4> -->
    </div>

    <div id="container">
      <div id="left">
        <div class="leftimg"><h1>Your Wishlist is empty now!</h1></div>
      </div>

      <div id="right" style="margin-left: 2%;">
        <div id="Filters">
            <h2>Filters</h2>
            <input placeholder="Search By Genre" class="text-xl p-1" type="text" id="input">
            <hr>
            <select name="Price" id="price" class="selection">
                <option value="">Price </option>
                <option value="1000">Under Rs.1000.00</option>
                <option value="5000">Under Rs.5000.00</option>
                <option value="9000">Under Rs.9000.00</option>
                <option value="9100">Greater Than Rs.9000.00</option>
            </select>
            <hr>
            <select name="Genre" id="genre" class="selection">
                <option value="">Genre </option>
                <option value="Fighting">Fighting</option>
                <option value="Shooter">Shooter</option>
                <option value="Strategy">Strategy</option>
                <option value="Racing">Racing</option>
                <option value="Sports">Sports</option>
                <option value="Sports">MMORPG</option>
                <option value="Sports">MMO</option>
            </select>
            <hr>
            <select name="Platform" id="platform" class="selection">
                <option value="">Platform </option>
                <option value="Web Browser">Web Browser</option>
                <option value="Windows">PC (Windows)</option>
            </select>
            <hr>
        </div>
      </div>
    </div>
    <div id="footer"></div>
  </body>
</html>
<script type="module">
  var userName = JSON.parse(localStorage.getItem("UserName"));
   console.log(userName);
   if (userName !== null){
    document.querySelector("#signin").textContent= userName;
   }
   else {

   }
  import { footer } from "/components/navFooter.js";
  document.querySelector("#footer").innerHTML = footer();

  var epic_wish = JSON.parse(localStorage.getItem("whislistGameDatas")) || [];
  console.log("whislistGameDatas", epic_wish);
  displayData(epic_wish);

  // var container = document.getElementsByClassName("container");

  function displayData(gamesdoc) {
    document.querySelector("#left").innerHTML = null;

    gamesdoc.map(function (elem, index) {
      let container = document.getElementById("left");
      // container.setAttribute("id", "item-div")
      container.style.display = "block";
      //   container.style.backgroundColor = "#222";
      //   container.style.marginTop= "20px"

      let div = document.createElement("div");
      div.style.display = "flex";
      div.style.marginTop = "20px";
      div.style.backgroundColor = "#222";
      div.style.padding = "15px";
      div.style.paddingRight = "20px";
      div.style.borderRadius = "7px";
      div.style.marginBottom = "20px"

      //   div.style.border = "2px solid red";

      let img = document.createElement("img");
      img.src = elem.Thumbnail;
      img.style.borderRadius = "10px";
      img.setAttribute("id", "gameImg");

      let title = document.createElement("h2");
      title.innerText = elem.Title;
      title.style.color = "white";

      let tdiv = document.createElement("div");
      tdiv.append(title);

    //   let price = document.createElement("h3");
    // //   price.setAttribute("id", "pric");
    //   price.innerHTML = `₹${elem.Price}/-`;
    //   price.style.color = "white";
    // //   price.style.marginLeft = "70%"

    let price = document.createElement("h3");
    //   price.innerHTML = `₹${elem.Price}/-`;
      price.style.color = "white";
        let tt = elem.Price
      function numberWithComma3(final) {
      
      var strikepricesIncomma8 = final.toString().split(".");

      strikepricesIncomma8[0] = strikepricesIncomma8[0].replace(/\B(?=(\d{3})+(?!\d))/g, ",");

   price.innerHTML=`₹ ${strikepricesIncomma8.join(".")}`;


    }
    numberWithComma3(tt);
    let pdv = document.createElement("div");
      pdv.append(price);

      let abutton = document.createElement("button");
      abutton.addEventListener("click", () => {
        Addtocart(index);
      });

      abutton.innerHTML = "Add to Cart";
      abutton.setAttribute("id", "wbtn");

      abutton.addEventListener("click", refresh);

      let button = document.createElement("button");
      button.addEventListener("click", () => {
        removeItem(index);
      });
      button.innerHTML = "Remove";
      button.classList.add("mx-3")
      button.setAttribute("id", "rem");
      button.style.width = "170px"

      button.addEventListener("click", refresh);

      let rd = document.createElement("div");
        // rd.style.border = "2px solid red";
        // rd.style.marginLeft = "10px";
        rd.style.width = "78%";


      let idiv = document.createElement("div");
      idiv.setAttribute("id", "img-div");
      idiv.style.width = "20%";
    //   idiv.style.border = "2px solid yellow"

      let titlediv = document.createElement("div");
      titlediv.style.paddingTop = "15px"
    //   titlediv.style.border = "2px pink solid"
    //   titlediv.style.width = "40%";
      titlediv.style.fontSize = "20px";
      titlediv.style.fontWeight = "600"
      titlediv.style.display = "flex";
    
    titlediv.style.justifyContent = "space-between"


      let btndiv = document.createElement("div");
    //   btndiv.style.border = "2px solid green";
      btndiv.style.marginTop = "15px"
      btndiv.style.display = "flex";


      btndiv.append(button, abutton);

      let windiv = document.createElement("div")
      

      let ftrdiv = document.createElement("div")
      ftrdiv.style.display = "flex";
      ftrdiv.style.justifyContent = "space-between"

      ftrdiv.append(windiv,btndiv)


      titlediv.append(tdiv, pdv);
      idiv.append(img); // image appned
      rd.append(titlediv,ftrdiv); //price and button append

      div.style.justifyContent = "space-between";
      
      div.append(idiv, rd); // image and title and button/ price
      container.append(div); //  append all to html's container

      total();
      sortBy()
    });

    function Addtocart(index) {
      //let wishlistArr = JSON.parse(localStorage.getItem("")) || [];
      let gamesArr = JSON.parse(localStorage.getItem("cartGameData")) || [];

      let wishlist = {
        "Thumbnail": epic_wish[index].Thumbnail,
        "Title": epic_wish[index].Title,
        "Price": epic_wish[index].Price,
      };

      gamesArr.push(wishlist);
      console.log("Cart", gamesArr);

      localStorage.setItem("cartGameData", JSON.stringify(gamesArr));
      total();
      // epic_wish.splice(index, 1);

      displayData(epic_wish);
      localStorage.setItem("whislistGameDatas", JSON.stringify(epic_wish));
    }

    function removeItem(index) {
      epic_wish.splice(index, 1);

      displayData(epic_wish);
      localStorage.setItem("whislistGameDatas", JSON.stringify(epic_wish));
    }
  }
  function refresh() {
    location.reload();
  }

  function total() {
    let total_val = epic_wish.reduce(function (ac, av) {
      return ac + av.price;
    }, 0);

    // document.querySelector(".total").innerHTML = `Total: ${total_val}`;
    let gamesArr = JSON.parse(localStorage.getItem("cartGameData")) || [];

    document.querySelector("#cartTotal").innerText = `${gamesArr.length}`;
    // document.querySelector(".wishlist").innerText = ` Wishlist ${epic_wish.length}`;
  }



//   sorting starts form here 
//   sorting starts form here 
//   sorting starts form here 

  //    SortBy Alphabetical, price
  document.querySelector("#sortBtn").addEventListener("change", sortBy);
  function sortBy() {
    var selected = document.querySelector("#sortBtn").value;
    //console.log(selected);
    if (selected === "Alphabetical") {
      console.log(selected);
      let newProd = data.sort((a, b) => {
        //console.log(a.title)
        if (a.title > b.title) return 1;
        if (a.title < b.title) return -1;
        return 0;
      });
      appendData(newProd);
    }

    if (selected === "Low to High") {
      console.log(selected);
      let newProd = data.sort((a, b) => {
        //console.log(a.title)
        return a.price - b.price;
      });
      appendData(newProd);
    }

    if (selected === "High to Low") {
      console.log(selected);
      let newProd = data.sort((a, b) => {
        //console.log(a.title)
        return b.price - a.price;
      });
      appendData(newProd);
    }
  }
//   document.querySelector("#clear").addEventListener("click",clearFilter)

// function clearFilter(){
//     window.location.reload();
// }

</script>
